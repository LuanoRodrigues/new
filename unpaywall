openapi: 3.0.0
info:
  title: Unpaywall API
  description: Free, programmatic access to the Unpaywall database
  version: 2.0.0
servers:
  - url: https://api.unpaywall.org/v2
paths:
  /search:
    get:
      summary: Search for articles
      description: Provides the full GET /v2/:doi responses for articles whose titles match your query.
      operationId: searchArticles
      parameters:
        - name: query
          in: query
          description: The text to search for. Search terms are separated by whitespace.
          required: true
          schema:
            type: string
          example: "cell thermometry"
        - name: is_oa
          in: query
          description: A boolean value indicating whether to filter results to OA articles.
          required: false
          schema:
            type: boolean
          example: true
        - name: page
          in: query
          description: An integer indicating which page of results should be returned.
          required: false
          schema:
            type: integer
          example: 1
        - name: email
          in: query
          description: Your email for authentication and identification.
          required: true
          schema:
            type: string
          example: "luhan.servidor@gmail.com"
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/SearchResult"

  /{doi}:
    get:
      summary: Get OA status and bibliographic info for a given DOI
      description: Retrieves OA status and bibliographic information for a specified DOI-assigned resource.
      operationId: getDOIInfo
      parameters:
        - name: doi
          in: path
          description: DOI of the resource
          required: true
          schema:
            type: string
          example: "10.1038/nature12373"
        - name: email
          in: query
          description: Your email for authentication and identification.
          required: true
          schema:
            type: string
          example: "luhan.servidor@gmail.com"
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DOIObject"
components:
  schemas:
    # Other schemas...
    OALocation:
      type: object
      properties:
        evidence:
          type: string
          description: How we found this OA location.
        host_type:
          type: string
          description: The type of host that serves this OA location.
        is_best:
          type: boolean
          description: Is this location the best_oa_location for its resource.
        license:
          type: string
          nullable: true
          description: The license under which this copy is published.
        oa_date:
          type: string
          nullable: true
          description: When this document first became available at this location.
        pmh_id:
          type: string
          nullable: true
          description: OAI-PMH endpoint where we found this location.
        updated:
          type: string
          description: Time when the data for this location was last updated.
        url:
          type: string
          description: The URL for a landing page describing this OA copy.
        url_for_pdf:
          type: string
          nullable: true
          description: The URL with a PDF version of this OA copy.
        version:
          type: string
          description: The content version accessible at this location.

